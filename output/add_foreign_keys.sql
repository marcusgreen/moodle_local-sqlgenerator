/* Moodle version 2020061504.06 Release 3.9.4+ (Build: 20210226) Add Foreign Keys code */
ALTER TABLE block_rss_client ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE competency_userevidencecomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_plancomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_usercompplan ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_usercompcourse ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_usercomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_relatedcomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_templatecomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_modulecomp ADD FOREIGN KEY (competencyid) REFERENCES competency (id);
ALTER TABLE competency_plan ADD FOREIGN KEY (templateid) REFERENCES competency_template (id);
ALTER TABLE competency_templatecohort ADD FOREIGN KEY (templateid) REFERENCES competency_template (id);
ALTER TABLE competency ADD FOREIGN KEY (competencyframeworkid) REFERENCES competency_framework (id);
ALTER TABLE competency_evidence ADD FOREIGN KEY (usercompetencyid) REFERENCES competency_usercomp (id);
ALTER TABLE competency_userevidence ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE course_modules ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE course_published ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE course_sections ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE course_completions ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE course_completion_aggr_methd ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE course_completion_crit_compl ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE course_categories ADD FOREIGN KEY (parent) REFERENCES course_categories (id);
ALTER TABLE course ADD FOREIGN KEY (category) REFERENCES course_categories (id);
ALTER TABLE course_modules_completion ADD FOREIGN KEY (coursemoduleid) REFERENCES course_modules (id);
ALTER TABLE user_preferences ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE book_chapters ADD FOREIGN KEY (bookid) REFERENCES book (id);
ALTER TABLE enrol_paypal ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE forum_read ADD FOREIGN KEY (forumid) REFERENCES forum (id);
ALTER TABLE grade_letters ADD FOREIGN KEY (contextid) REFERENCES context (id);
ALTER TABLE folder ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE imscp ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE label ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE lti_types_config ADD FOREIGN KEY (typeid) REFERENCES lti (id);
ALTER TABLE lti ADD FOREIGN KEY (typeid) REFERENCES lti_types (id);
ALTER TABLE lti_submission ADD FOREIGN KEY (ltiid) REFERENCES lti (id);
ALTER TABLE log ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE question_statistics ADD FOREIGN KEY (questionid) REFERENCES question (id);
ALTER TABLE user_lastaccess ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE user_info_data ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE mnet_service2rpc ADD FOREIGN KEY (serviceid) REFERENCES mnet_service (id);
ALTER TABLE message_contacts ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE message_read ADD FOREIGN KEY (useridfrom) REFERENCES user (id);
ALTER TABLE message_popup ADD FOREIGN KEY (messageid) REFERENCES message (id);
ALTER TABLE my_pages ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE mnet_session ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE mnet_log ADD FOREIGN KEY (hostid) REFERENCES mnet_host (id);
ALTER TABLE page ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE resource ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE block_instances ADD FOREIGN KEY (blockname) REFERENCES block (name);
ALTER TABLE block_recent_activity ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE forum_track_prefs ADD FOREIGN KEY (userid) REFERENCES forum (id);
ALTER TABLE forum_read ADD FOREIGN KEY (discussionid) REFERENCES forum_discussions (id);
ALTER TABLE forum_read ADD FOREIGN KEY (postid) REFERENCES forum_posts (id);
ALTER TABLE course_completion_criteria ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE tool_cohortroles ADD FOREIGN KEY (cohortid) REFERENCES cohort (id);
ALTER TABLE user_info_field ADD FOREIGN KEY (categoryid) REFERENCES user_info_category (id);
ALTER TABLE user_info_data ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE user_preferences ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE user_lastaccess ADD FOREIGN KEY (userid) REFERENCES user (id);
ALTER TABLE repository_instance_config ADD FOREIGN KEY (instanceid) REFERENCES repository_instances (id);
ALTER TABLE url ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE wiki_synonyms ADD FOREIGN KEY (subwikiid) REFERENCES wiki_subwikis (id);
ALTER TABLE wiki_synonyms ADD FOREIGN KEY (pageid) REFERENCES wiki_pages (id);
ALTER TABLE wiki_locks ADD FOREIGN KEY (pageid) REFERENCES wiki_pages (id);
ALTER TABLE backup_courses ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_daily ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_monthly ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_weekly ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_user_daily ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_user_monthly ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE stats_user_weekly ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE workshopform_rubric ADD FOREIGN KEY (workshopid) REFERENCES workshop (id);
ALTER TABLE workshopform_rubric_config ADD FOREIGN KEY (workshopid) REFERENCES workshop (id);
/* End of Extra Foreign Keys */ 
ALTER TABLE questionnaire ADD FOREIGN KEY (sid) REFERENCES questionnaire_survey (id);
ALTER TABLE questionnaire ADD FOREIGN KEY (course) REFERENCES course (id);
ALTER TABLE questionnaire_survey ADD FOREIGN KEY (courseid) REFERENCES course (id);
ALTER TABLE questionnaire_quest_choice ADD FOREIGN KEY (question_id) REFERENCES questionnaire_question (id);
ALTER TABLE questionnaire_response ADD FOREIGN KEY (questionnaireid) REFERENCES questionnaire (id);
ALTER TABLE questionnaire_fb_sections ADD FOREIGN KEY (surveyid) REFERENCES questionnaire_survey (id);
ALTER TABLE questionnaire_feedback ADD FOREIGN KEY (sectionid) REFERENCES questionnaire_fb_sections (id);
ALTER TABLE questionnaire_dependency ADD FOREIGN KEY (questionid) REFERENCES questionnaire_question (id);
ALTER TABLE questionnaire_dependency ADD FOREIGN KEY (surveyid) REFERENCES questionnaire_survey (id);
